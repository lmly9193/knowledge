# Linux 目錄配置

-   Linux 目錄樹配置標準參考：[FHS (Filesystem Hierarchy Standard)](https://www.pathname.com/fhs/)
-   FHS 定義的目錄資訊，主要分為下表四種

|          | shareable                        | unshareable               |
| -------- | -------------------------------- | ------------------------- |
| static   | `/usr`<br>`/opt`                 | `/etc`<br>`/boot`         |
| variable | `/var/mail`<br>`/var/spool/news` | `/var/run`<br>`/var/lock` |

## 基本目錄

`/etc`，`/bin`，`/dev`，`/lib`，`/sbin` 這五個次目錄都要與根目錄一起，不可為獨立的磁碟分割區。

| 目錄     | 介紹                                                                                                                                                                                             |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `/bin`   | 放單人維護模式下還能夠被操作的指令，如：`ls`、`mv`、`rm`。                                                                                                                                       |
| `/boot`  | 放系統核心及開機相關檔案                                                                                                                                                                         |
| `/dev`   | 在 Linux 系統中，任何裝置與周邊設備都是以檔案的型態存在於這個目錄中。透過目錄下的檔案就可以存取某個裝置了                                                                                        |
| `/etc`   | 系統的主要設定檔都放在這個目錄內，如：人員的帳號密碼檔，各種服務的啟始檔。一般來說這個目錄下的個檔案屬性是可以讓一般使用者查閱的，但只有 root 有權限修改。FHS 建議不要放置可執行檔在這個目錄中。 |
| `/root`  | 系統管理員的家目錄。                                                                                                                                                                             |
| `/home`  | 使用者的家目錄 如： `~`代表目前使用者的家目錄，`~ubuntu`代表 ubuntu 的家目錄                                                                                                                     |
| `/lib`   | 系統的函式庫非常多，而 `/lib` 放置的則是開機時會用到的函式庫，以及在 `/bin` 或是 `/sbin` 底下指令會呼叫的函式庫。                                                                                |
| `/media` | 放置可移除的裝置。                                                                                                                                                                               |
| `/mnt`   | 軟碟及光碟預設掛載的地方。如果你想要暫時掛載某些額外的裝置，一般建議可議放置在這個目錄中。                                                                                                       |
| `/opt`   | 這是給第三方協定軟體放置的目錄。                                                                                                                                                                 |
| `/sbin`  | 放置在這個目錄下的為開機過程中所需要的，裡面包含了開機，修復，還原系統所需要的指令                                                                                                               |
| `/srv`   | Service 的縮寫，是一些網路服務啟動後，這些服務所需要取用的資料目錄。如： WWW、FTP                                                                                                                |
| `/tmp`   | 這個是讓一般使用者或是正在執行的程式暫時放置檔案的地方。                                                                                                                                         |

### 其他目錄

| 目錄    | 介紹                                                                                                                                                     |
| ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `/proc` | 這個目錄本身是一個「虛擬檔案系統」，他放置的資料都是在記憶體當中，如：系統核心、行程資訊、週邊以及網路的狀態的鞥等。這個目錄下的資料都是放在記憶體當中。 |
| `/sys`  | 跟 `/proc` 非常類似，也是紀錄與核心相關的資訊。                                                                                                          |

### `/usr` 目錄

依據 FHS 的基本定義，`/usr` 裡面放置的資料屬於「可分享的」與「不可變動的」。  
此目錄包括許多子目錄，用來存放系統指令、安裝程式及套件。  
有點類似 Windows 的 `C:\Windows\` + `C:\Program Files\` 的綜合體.

> usr 是 Unix Software Resource 的縮寫，是 Unix 作業系統軟體資源所放置的目錄。

| 目錄           | 介紹                                                                         |
| -------------- | ---------------------------------------------------------------------------- |
| `/usr/bin`     | 絕大部份使用者可以使用的指令都放在這。與/bin 的差別在於是否與開機過程有關    |
| `/usr/include` | C/C++ 等程式語言的 header 檔&include 檔放置處。                              |
| `/usr/lib`     | 包含各應用軟體的函式庫，目標檔案，以及不被一般使用者慣用的執行檔或 script。  |
| `/usr/local`   | 系統管理員在本機自行安裝自己下載的軟體，建議安裝到此目錄，這樣會便於管理。   |
| `/usr/sbin`    | 非系統正常運作所需要的系統指令。如： daemon。                                |
| `/usr/share`   | 放置共享文件的地方，在這個目錄下放置的資料幾乎是不分硬體架構均可讀取的資料。 |
| `/usr/src`     | 一般原始碼建議放置到這裡。                                                   |

### `/var` 目錄

如果 `/usr` 是安裝時會佔用較大硬碟容量的目錄，那麼 `/var` 就是在系統用作之後才會漸漸佔用硬碟容量的目錄。
因為 `/var` 目錄主要針對常態性變動的檔案，包含快取、日誌以及一些軟體運作所產生的檔案，或是 MySQL 資料庫的檔案等等.

| 目錄          | 介紹                                                                                                                                                                 |
| ------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `/var/cache/` | 應用程式本身運中過程中會產生的一些暫存檔。                                                                                                                           |
| `/var/lib/`   | 程式本身執行的過程中。需要使用到的資料檔案放置的目錄。在此目錄下各自的疃體應該要有各自的目錄。如： MySQL 的資料庫放置到 `/var/lib/mysql/`。                          |
| `/var/lock/`  | 某些裝置或是檔案資源一次只能被一個應用程式所使用，如果同時有兩個程式使用該裝置時，就可能產生一些錯誤的狀況，因此就得要將該裝置上鎖，以確保該裝置只會給單一程式使用。 |
| `/var/log/`   | 登入檔放置的目錄。                                                                                                                                                   |
| `/var/mail/`  | 放置個人電子郵件信箱的目錄。                                                                                                                                         |
| `/var/run/`   | 某些程式或是服務啟動後，會將他們的 PID 放置在這個目錄下。                                                                                                            |
| `/var/spool/` | 放置一些佇列資料。如：主機收到電子郵件後，放於 `/var/spool/mail`。                                                                                                   |

## 練習題

1. Linux 目錄樹配置標準 FHS，主要定義那三段目錄？
    > 1. 最上層根目錄 `/`
    > 2. 次層 `/usr`
    > 3. 次層 `/var` 的目錄內容。
2. Linux 目錄樹配置標準 FHS，定義的目錄資訊，主要分為那四種？
    > 1. shareable
    > 2. unshareable
    > 3. static
    > 4. variable.
3. 目錄 `/usr` 在 Linux 目錄樹配置標準 FHS 中，包含那兩種資訊？
    > 1. shareable
    > 2. static.
4. 目錄 `/etc` 在 Linux 目錄樹配置標準 FHS 中，包含那兩種資訊？
    > 1. unshareable
    > 2. static.
5. 目錄 `/boot` 在 Linux 目錄樹配置標準 FHS 中，包含那兩種資訊？
    > 1. unshareable
    > 2. static.
6. 目錄 `/var/mail` 在 Linux 目錄樹配置標準 FHS 中，包含那兩種資訊？
    > 1. shareable
    > 2. variable.
7. 目錄 `/var/run` 在 Linux 目錄樹配置標準 FHS 中，包含那兩種資訊？
    > 1. unshareable
    > 2. variable.
8. Linux 系統中，有那五個次目錄必須與根目錄同一分割槽，不可獨立分割？
    > `/etc`，`/bin`，`/dev`，`/lib`，`/sbin` 等五個次目錄。
9. Linux 安裝套件主要放在那個目錄？
    > `/usr`
10. Linux 設定檔放在那個目錄？
    > `/etc`
11. Linux 常用的指令，例如： `ls`，放在那個目錄？
    > `/bin`
12. Linux 系統中，次目錄 `/bin` 主要放那些類型的檔案？
    > 放常用執行檔。
13. Linux 系統中，次目錄 `/boot` 主要放那些類型的檔案？
    > 放 Linux 核心及開機相關檔案。
14. Linux 系統中，次目錄 `/dev` 主要放那些類型的檔案？
    > 放裝置有關的檔案，Linux 把裝置當成檔案看待。
15. Linux 系統中，次目錄 `/etc` 主要放那些類型的檔案？
    > 放系統在開機過程需要讀取的檔案。
16. Linux 系統中，次目錄 `/etc/rc.d` 主要放那些類型的檔案？
    > 記錄開關機過程中的 scripts 檔案。
17. Linux 系統中，次目錄 `/etc/init.d` 主要放那些類型的檔案？
    > 放所有服務預設的啟動 scripts。
18. Linux 系統中，次目錄 `/etx/X11` 主要放那些類型的檔案？
    > 放 X window 有關的設定檔。
19. Linux 系統中，次目錄 `/home` 主要放那些類型的檔案？
    > 使用者的家目錄，放使用者個人檔案及設定。
20. Linux 系統中，次目錄 `/lib` 主要放那些類型的檔案？
    > 放 Linux 執行或編譯程式時要使用的函式庫。
21. Linux 系統中，次目錄 `/mnt` 主要放那些類型的檔案？
    > 軟碟及光碟預設掛載的地方。
22. Linux 系統中，次目錄 `/root` 主要放那些類型的檔案？
    > 系統管理員的家目錄，放系統管理員個人檔案及設定。
23. Linux 系統中，次目錄 `/sbin` 主要放那些類型的檔案？
    > 放系統管理常用的程式。
24. Linux 系統中，次目錄 `/tmp` 主要放那些類型的檔案？
    > 一般使用者暫時存放檔案的地方。
25. Linux 系統中，次目錄 `/usr` 主要放那些類型的檔案？
    > 此目錄包括許多子目錄，用來存放系統指令、安裝程式及套件。
26. Linux 系統中，次目錄 `/usr/man` 主要放那些類型的檔案？
    > 放程式的說明檔。
27. Linux 系統中，次目錄 `/usr/bin` 主要放那些類型的檔案？
    > 放使用者可執行的程式執行檔。
28. Linux 系統中，次目錄 `/usr/sbin` 主要放那些類型的檔案？
    > 放系統管理員可用之程式。
29. Linux 系統中，次目錄 `/usr/share` 主要放那些類型的檔案？
    > 放安裝的程式及套件。
30. Linux 系統中，次目錄 `/usr/src` 主要放那些類型的檔案？
    > 放核心原始碼。
31. Linux 系統中，次目錄 `/var` 主要放那些類型的檔案？
    > 放系統執行中，常態性變動的檔案。
32. Linux 系統中，次目錄 `/var/log` 主要放那些類型的檔案？
    > 登錄檔。
33. Linux 系統中，次目錄 `/var/spool` 主要放那些類型的檔案？
    > 放一些佇列資料。例如主機收到電子郵件後，放於 `/var/spool/mail`。
